!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("css2pre",[],t):"object"==typeof exports?exports.css2pre=t():e.css2pre=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=i.default,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=r(2),o={vendorPrefixesList:["-moz","-o","-ms","-webkit"],indentSymbol:"  ",indentSize:1,selectorSeparator:", ",blockFromNewLine:!1,blockSeparator:"\n",vendorMixins:!1,nameValueSeparator:": ",target:"less"};o.vendorPrefixesReg=new RegExp("^("+o.vendorPrefixesList.join("|")+")-","gi");var s=function e(t,r){if(!t)throw new Error("converter has css string");if(!(this instanceof e))return new e(t,r);r=r||{},this.css=t,this.options=(0,i.extend)(o,r),this.tree={},this.result="",this.options.vendorMixins&&(this.vendorMixins={}),this.init()};(0,i.extend)(s.prototype,{init:function(){this.raw=this.css,this.css=this.raw.replace(/\r|\n/gi,""),this.tree=this.buildTree()},buildTree:function(e){var t=this;if(e=e||(0,i.deconStruct)(this.css,[],"{","}"),!e.isStyle)return this.shouldMerge(function(r){for(var n=-1;n<e.length;)n++,e[n]&&(t.isSpecial(e,n)?t.processImport(e,n):t.isNote(e,n)?t.processNotes(e,n):t.isStyle(e,n)?t.processStyle(e,n):r(e,n))}),e.forEach(function(r,n){Array.isArray(e[n])&&t.buildTree(e[n])}),e},shouldMerge:function(e){var t=this,r=[],i=function(e,i){r.push(i),r.length%2&&"string"!=typeof e[i]||"object"===n(e[i])&&4===r.length&&(t.closeMerge.apply(t,[e].concat(r)),r.splice(0,2))};e&&e(i)},closeMerge:function(e,t,r,n,o){if(!this.isComma(e[t])&&!this.isComma(e[n])){var s=(0,i.splitTrim)(this.processQuote(e[t])," "),c=(0,i.splitTrim)(this.processQuote(e[n])," ");s.length>c.length&&(s=[c,c=s][0],t=[n,n=t][0],r=[o,o=r][0]);for(var u=0;u<s.length&&s[u]===c[u];u++);if(u){var f=c.slice(0,u).join(" ").replace(/ &/,""),a=s.slice(u).join(" ")?[]:e[r];a=a.length?a.concat([c.slice(u).join(" "),e[o]]):a.concat([s.slice(u).join(" "),e[r],c.slice(u).join(" "),e[o]]),e[t]="",e[r]="",e[n]=f,e[o]=a}}},processImport:function(e,t){var r=void 0;e[t]=e[t].replace(/(@.*?;)/,function(e){return r=e,""}),e.splice(t,0,r)},processNotes:function(e,t){var r=void 0;e[t]=e[t].replace(/\/\*(.*?)\*\//,function(e,t){return r="/*"+t+"*/",""}),e.splice(t,0,r)},processQuote:function(e){e.replace;var t=void 0;return t=e.replace(/[^&:](:{1,2})/gi,function(e){return e.replace(/:{1,2}/,function(e){return" &"+e})}),t=t.replace(/[\w\d][#.]/gi,function(e){return e.replace(/[#.]/,function(e){return" &"+e})})},preProcess:function(e,t){var r=void 0,n=[],o=n,s=0,c=e[t+1];if(!/@|,/.test(e[t])&&(r=(0,i.splitTrim)(e[t]," "),r.length)){for(;s<r.length-1;s++)o[0]=r[s],o=o[1]=[];o[0]=r[s],o[1]=c,e[t]=n[0],e[t+1]=n[1]}},isSpecial:function(e,t){return"string"==typeof e[t]&&/@.*?;/.test(e[t])},isNote:function(e,t){return"string"==typeof e[t]&&/\/\*/.test(e[t])},isStyle:function(e,t){return!Array.isArray(e[t])&&!Array.isArray(e[t+1])&&/:/.test(e[t])},processStyle:function(e,t){function r(e){var t=e.exec(i);if(t){var r=t[0];return i=i.slice(r.length),t}}for(var n,i=e[t].trim(),o=[];n=function(){var e=r(/^(\*?[-#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(e){if(e=e[0].trim(),!r(/^:\s*/))throw new Error("property missing ':'");var t=r(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/);return t=t?t[0].trim():"",r(/^[;\s]*/),e+":"+t}}();)n&&o.push(n);o.isStyle=!0,e.splice(t,1,o)},isComma:function(e){return!/@/.test(e)&&!!/,/.test(e)},processComma:function(e,t){var r=void 0,n=void 0,o=void 0;r=(0,i.splitTrim)(this.processQuote(e,t),",").map(function(e){return(0,i.splitTrim)(e," ")}),n=(0,i.arr2)(r).getEqualAhead(),n.length&&(r=r.map(function(e){return e?e.slice(n.length).join(" ").replace(" &",""):"&"}),o=e[t+1],e[t]=n.join(" "),e[t+1]=[r.join(","),o])},convert:function(){throw new Error("this action need overwrite")},to:function(e){if(!c[e])throw new Error("不支持的格式");return(0,i.extend)(s.prototype,c[e]),this.convert()}});var c={less:{indent:"  ",convert:function(){return this.renderTree().replace(/(\n|\r\n){2}/gi,function(e,t){return t})},renderTree:function(e,t){e=e||this.tree,t=e.isStyle?t-1:t||0;var r="",n=0;for(t&&!e.isStyle&&(r+="\n"+this.getIndent(t-1)+"{\n");n<e.length;n++)e[n]&&(Array.isArray(e[n])?r+=this.renderTree(e[n],t+1):(e[n]=e[n].trim(),r+=this.getIndent(t),e.isStyle?r+=e[n]+";":r+=e[n],r+="\n"));return t&&!e.isStyle&&(r+=this.getIndent(t-1)+"}\n"),r},getIndent:function(e){return this.indent.repeat(e)}}};c.scss=c.less,t.default=s,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=(t.extend=function(e,t){if(!(e instanceof Object&&t instanceof Object))throw new Error("a or b is not object");for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},t.splitFirst=function(e,t){var r=e.search(t);return~r?[e.slice(0,r),e.slice(r+1)]:e},t.splitTrim=function(e,t){return e.replace(/\r|\n/,"").split(t).map(function(e){return e.trim()}).filter(function(e){return""!==e})},t.set=function(e,t,r,n){t.split&&(t=t.split("."));for(var i=0,o=t.length,s=e,c=void 0;i<o-1;++i)c=s[t[i]],s=s[t[i]]=c instanceof Object||void 0!==c&&!n?c:{};return s[t[i]]=r},t.get=function(e,t,r){t.split&&(t=t.split("."));for(var n=0,i=t.length,o=e;n<i-1;++n)if(!((o=o[t[n]])instanceof Object))return;return o[t[n]]},function(e,r,n,i){r||(t.deconStruct=s=function(e){return s(e,[],"{","}")});for(var o,c;~(o=e.search(new RegExp(n+"|"+i)));)if(c=e.slice(0,o),c&&r.push(c),e[o]===n)r.push([]),e=e.slice(o+1),e=s(e,r[r.length-1],n,i);else if(e[o]===i)return e.slice(o+1);return e&&r.push(e),r});t.deconStruct=s;t.arr2=function(e){return new(function(){function e(t){n(this,e),this.value=t}return o(e,[{key:"getMinLength",value:function(){for(var e=0,t=[];e<this.value.length;e++)t.push(this.value[e].length);return Math.min.apply(Math,t)}},{key:"getEqualAhead",value:function(){var e=void 0,t=void 0,r=void 0,n=this.getMinLength();for(e=0;e<n;e++){for(t=1;t<this.value.length;t++)if(this.value[t][e]!==this.value[t-1][e]){r=!0;break}if(r)break}return console.log(this.value[0].slice(0,e)),this.value[0].slice(0,e)}}]),e}())(e)},t.each=function(e,t){var r=void 0;if(Array.isArray(e)){for(var n=0;n<e.length;n++)if(r=t(e[n],n)){if("break"===r)break;if("continue"===r)continue}}else{if(!(e instanceof Object))throw new Error("need itera data");for(var o in e)if(r=t(e[i],i)){if("break"===r)break;if("continue"===r)continue}}}}])});